{"version":3,"sources":["api/api.js","components/TodoList/TodoList.jsx","components/CurrentUser/CurrentUser.jsx","App.jsx","index.js"],"names":["request","url","fetch","then","response","ok","Error","status","statusText","json","result","data","getUser","userId","TodoList","state","title","completed","handleChange","event","target","name","value","setState","this","props","todos","selectUser","selectedUserId","filteredTodos","filter","todo","toLowerCase","includes","className","type","placeholder","onChange","length","map","key","id","classNames","checked","onClick","style","width","height","role","React","Component","CurrentUser","user","prevProps","clearUser","email","phone","App","loading","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bcd050c3.chunk.js","sourcesContent":["const BASE_URL = 'https://mate-api.herokuapp.com';\n\nconst request = url => fetch(`${BASE_URL}${url}`)\n  .then((response) => {\n    if (!response.ok) {\n      throw new Error(`${response.status} - ${response.statusText}`);\n    }\n\n    return response.json();\n  })\n  .then(result => result.data);\n\nexport const getTodos = () => request('/todos');\nexport const getUser = userId => request(`/users/ ${userId}`);\n","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\n\nimport './TodoList.scss';\n\nexport class TodoList extends React.Component {\n  state = {\n    title: '',\n    completed: 'all',\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n\n    this.setState({ [name]: value });\n  }\n\n  render() {\n    const { todos, selectUser, selectedUserId } = this.props;\n    const { completed } = this.state;\n\n    const filteredTodos = todos\n      .filter(todo => todo.title && todo.title.toLowerCase()\n        .includes(this.state.title.toLowerCase()))\n      .filter((todo) => {\n        if (completed === 'completed') {\n          return todo.completed;\n        }\n\n        if (completed === 'uncompleted') {\n          return !todo.completed;\n        }\n\n        return todo;\n      });\n\n    return (\n      <div className=\"TodoList\">\n        <h2>Todos:</h2>\n        <div className=\"TodoList__list-container\">\n          <form className=\"d-flex gap-3 mb-3 ms-5\">\n            <input\n              type=\"text\"\n              name=\"title\"\n              value={this.state.title}\n              placeholder=\"Title\"\n              onChange={this.handleChange}\n            />\n            <select\n              name=\"completed\"\n              value={this.state.completed}\n              onChange={this.handleChange}\n            >\n              <option value=\"all\">All</option>\n              <option value=\"uncompleted\">Active</option>\n              <option value=\"completed\">Completed</option>\n            </select>\n          </form>\n          {todos.length !== 0 ? (\n            <ul className=\"TodoList__list\">\n              {filteredTodos.map(todo => (\n                <li\n                  key={todo.id}\n                  className={classNames('TodoList__item',\n                    {\n                      'TodoList__item--checked': todo.completed,\n                      'TodoList__item--unchecked': !todo.completed,\n                    })}\n                >\n                  <label>\n                    <input type=\"checkbox\" checked={todo.completed} />\n                    <p>{todo.title}</p>\n                  </label>\n\n                  <button\n                    type=\"button\"\n                    className={\n                      classNames('button', 'TodoList__user-button',\n                        { 'TodoList__user-button--selected':\n                      todo.userId === selectedUserId })\n                      }\n                    onClick={() => {\n                      selectUser(todo.userId);\n                    }}\n                  >\n                    User&nbsp;#\n                    {todo.userId}\n                  </button>\n                </li>\n              ))}\n            </ul>\n          )\n            : (\n              <div className=\"d-flex justify-content-center\">\n                <div\n                  className=\"spinner-border\"\n                  style={{\n                    width: '3rem', height: '3rem',\n                  }}\n                  role=\"status\"\n                >\n                  <span className=\"sr-only\" />\n                </div>\n              </div>\n            )\n          }\n\n        </div>\n      </div>\n    );\n  }\n}\n\nTodoList.propTypes = {\n  todos: PropTypes.arrayOf(\n    PropTypes.shape({\n      userId: PropTypes.number,\n      id: PropTypes.number,\n      title: PropTypes.string,\n      completed: PropTypes.bool,\n    }),\n  ).isRequired,\n  selectUser: PropTypes.func.isRequired,\n  selectedUserId: PropTypes.number.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { getUser } from '../../api/api';\n\nimport './CurrentUser.scss';\n\nexport class CurrentUser extends React.Component {\n  state = {\n    user: null,\n  };\n\n  componentDidMount() {\n    getUser(this.props.userId)\n      .then((user) => {\n        this.setState({\n          user,\n        });\n      });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.userId === this.props.userId) {\n      return;\n    }\n\n    getUser(this.props.userId)\n      .then((user) => {\n        this.setState({\n          user,\n        });\n      });\n  }\n\n  render() {\n    const { user } = this.state;\n    const { userId, clearUser } = this.props;\n\n    return (\n      <>\n        <div className=\"CurrentUser\">\n          <h2 className=\"CurrentUser__title\">\n            <span>\n              Selected user:\n              {userId}\n            </span>\n            <button\n              type=\"button\"\n              onClick={() => {\n                clearUser(user.id);\n              }}\n              className=\"btn btn-outline-secondary ms-3\"\n            >\n              Clear\n            </button>\n          </h2>\n\n          {user && (\n          <>\n            <h3 className=\"CurrentUser__name\">{user.name}</h3>\n            <p className=\"CurrentUser__email\">{user.email}</p>\n            <p className=\"CurrentUser__phone\">{user.phone}</p>\n          </>\n          )}\n        </div>\n      </>\n    );\n  }\n}\n\nCurrentUser.propTypes = {\n  userId: PropTypes.number.isRequired,\n  clearUser: PropTypes.func.isRequired,\n};\n","import React from 'react';\n\nimport './App.scss';\nimport './styles/general.scss';\n\nimport { getTodos } from './api/api';\n\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\n\nclass App extends React.Component {\n  state = {\n    todos: [],\n    selectedUserId: 0,\n  };\n\n  componentDidMount() {\n    getTodos()\n      .then((todos) => {\n        this.setState({ todos });\n      });\n  }\n\n  selectUser = (userId) => {\n    this.setState({\n      selectedUserId: userId,\n    });\n  };\n\n  clearUser = (userId) => {\n    this.setState({\n      selectedUserId: 0,\n    });\n  }\n\n  render() {\n    const { todos, selectedUserId, loading } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoList\n            todos={todos}\n            selectUser={this.selectUser}\n            selectedUserId={selectedUserId}\n            loading={loading}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser\n                clearUser={this.clearUser}\n                userId={selectedUserId}\n              />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}